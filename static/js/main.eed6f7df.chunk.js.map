{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/PixabayView.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchBar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","s","Searchbar","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","onChange","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","hit","setLargeImg","webformatURL","tags","onClick","src","alt","ImageGalleryItemImage","Button","loadMore","App","FallbackContainer","color","height","width","timeout","React","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","largeImgUrl","createPortal","Overlay","fetchPagesList","searchQuery","currentPage","perPage","axios","get","then","response","data","hits","isLoading","error","selectedImg","onChangeQuery","showModal","fetchPages","options","prevState","catch","finally","image","largeImageURL","toggleModal","prevProps","shouldRenderLoadMoreButton","length","map","id","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eed6f7df.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3jfy1\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__nCwBA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3owpk\",\"Modal\":\"Modal_Modal__3Ojho\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__NuJ4j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3TvQ8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1YRTC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FallbackContainer\":\"Loader_FallbackContainer__Op__2\"};","import React, { Component } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nclass SearchBar extends Component {\r\n  state = { query: '' };\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}></span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return <ul className={s.ImageGallery}>{children}</ul>;\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\n// {\r\n//   hits.map(({ id, webformatURL }) => (\r\n//     <li key={id}>\r\n//       <img src=\"\" alt=\"\" className=\"ImageGalleryItem-image\" />\r\n//     </li>\r\n//   ));\r\n// }\r\n\r\n// {\r\n//   props.hits.map(({ id, webformatURL, tags }) => {\r\n//     return (\r\n//       <div>\r\n//         <li key={id}>\r\n//           <img src={webformatURL} alt={tags} />\r\n//         </li>\r\n//       </div>\r\n//     );\r\n//   });\r\n// }\r\n","import React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ hit, setLargeImg }) => {\r\n  const { webformatURL, tags } = hit;\r\n\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={() => setLargeImg(hit)}>\r\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  hit: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  setLargeImg: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ loadMore }) => {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={loadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  loadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\nimport Loader from 'react-loader-spinner';\r\nimport s from './Loader.module.css';\r\n\r\nexport default class App extends React.Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className={s.FallbackContainer}\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    largeImgUrl: PropTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImgUrl } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img src={largeImgUrl} alt=\"Gallery item\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\n\r\nconst API_KEY = '19998766-bc5c9aa883552721d0d63d23f';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nfunction fetchPagesList({ searchQuery = '', currentPage = 1, perPage = 12 }) {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\r\n    )\r\n    .then(response => response.data.hits);\r\n}\r\n\r\nexport { fetchPagesList };\r\n","import React, { Component } from 'react';\r\n\r\nimport s from './App.module.css';\r\n\r\nimport Searchbar from './components/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport ImageGalleryItem from './components/ImageGalleryItem';\r\nimport Button from './components/Button';\r\nimport Loader from './components/Loader';\r\nimport Modal from './components/Modal';\r\n\r\nimport { fetchPagesList } from './services/PixabayView';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    hits: [],\r\n    currentPage: 1,\r\n    searchQuery: '',\r\n    isLoading: false,\r\n    error: null,\r\n    selectedImg: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchPages();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      currentPage: 1,\r\n      hits: [],\r\n      error: null,\r\n      selectedImg: '',\r\n      showModal: false,\r\n    });\r\n  };\r\n\r\n  fetchPages = () => {\r\n    const { currentPage, searchQuery } = this.state;\r\n\r\n    const options = {\r\n      searchQuery,\r\n      currentPage,\r\n    };\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    fetchPagesList(options)\r\n      .then(hits => {\r\n        this.setState(prevState => ({\r\n          hits: [...prevState.hits, ...hits],\r\n          currentPage: prevState.currentPage + 1,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  setLargeImg = image => {\r\n    this.setState({ selectedImg: image.largeImageURL });\r\n    this.toggleModal();\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { hits, isLoading, error, showModal, selectedImg } = this.state;\r\n    const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\r\n\r\n    return (\r\n      <div className={s.App}>\r\n        {error && <h1> Ой, ошибка</h1>}\r\n        <Searchbar onSubmit={this.onChangeQuery} />\r\n\r\n        <ImageGallery>\r\n          {hits.map(hit => (\r\n            <ImageGalleryItem\r\n              key={hit.id}\r\n              hit={hit}\r\n              setLargeImg={this.setLargeImg}\r\n            />\r\n          ))}\r\n        </ImageGallery>\r\n\r\n        {isLoading && <Loader />}\r\n\r\n        {shouldRenderLoadMoreButton && <Button loadMore={this.fetchPages} />}\r\n\r\n        {showModal && (\r\n          <Modal largeImgUrl={selectedImg} onClose={this.toggleModal} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1QfUO\",\"SearchForm\":\"Searchbar_SearchForm__17hLJ\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3WuVX\",\"SearchFormButton-label\":\"Searchbar_SearchFormButton-label__2e_FK\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1hwtn\"};"],"sourceRoot":""}